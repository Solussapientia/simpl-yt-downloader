<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Simpl YT Downloader - Free YouTube Video & MP3 Downloader</title>
    <meta name="title" content="Simpl YT Downloader - Free YouTube Video & MP3 Downloader">
    <meta name="description" content="Download YouTube videos in HD quality (360p, 720p, 1080p, 4K) and extract MP3 audio for free. No software installation required. Fast, secure, and works on all devices. Best free YouTube downloader 2024.">
    <meta name="keywords" content="youtube downloader, download youtube videos, youtube to mp3, free youtube downloader, youtube video downloader, mp3 converter, hd video download, 4k youtube downloader, mobile youtube downloader, online youtube downloader, youtube downloader free, youtube mp3 downloader, youtube video converter, download youtube video online, youtube downloader app, best youtube downloader, youtube audio downloader, youtube downloader no ads, youtube downloader 2024, youtube downloader for pc, youtube downloader for mobile, youtube downloader for android, youtube downloader for iphone, youtube downloader hd, youtube downloader 1080p, youtube downloader 4k, youtube music downloader, youtube playlist downloader, youtube shorts downloader, youtube live downloader, youtube video downloader chrome, youtube video downloader firefox, youtube video downloader safari">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">
    <meta name="revisit-after" content="7 days">
    <meta name="author" content="Simpl YT">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://web-production-24f3e.up.railway.app/">
    <meta property="og:title" content="Simpl YT Downloader - Free YouTube Video & MP3 Downloader">
    <meta property="og:description" content="Download YouTube videos in HD quality (360p, 720p, 1080p, 4K) and extract MP3 audio for free. No software installation required. Fast, secure, and works on all devices.">
    <meta property="og:image" content="https://web-production-24f3e.up.railway.app/static/images/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Simpl YT Downloader">
    <meta property="og:locale" content="en_US">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://web-production-24f3e.up.railway.app/">
    <meta property="twitter:title" content="Simpl YT Downloader - Free YouTube Video & MP3 Downloader">
    <meta property="twitter:description" content="Download YouTube videos in HD quality (360p, 720p, 1080p, 4K) and extract MP3 audio for free. No software installation required. Fast, secure, and works on all devices.">
    <meta property="twitter:image" content="https://web-production-24f3e.up.railway.app/static/images/twitter-image.jpg">
    <meta property="twitter:creator" content="@SimplYT">
    <meta property="twitter:site" content="@SimplYT">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#0070f3">
    <meta name="msapplication-TileColor" content="#0070f3">
    <meta name="application-name" content="Simpl YT Downloader">
    <meta name="apple-mobile-web-app-title" content="Simpl YT">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://web-production-24f3e.up.railway.app/">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/static/images/favicon.svg">
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/images/favicon-16x16.png">
    <link rel="manifest" href="/static/manifest.json">
    
    <!-- NextUI CSS -->
    <link href="https://cdn.jsdelivr.net/npm/@nextui-org/theme@2.2.9/dist/components/[button,card,input,modal,spinner,progress,divider,chip,avatar,user,dropdown,popover,tooltip,skeleton,tabs,table,pagination,checkbox,radio,switch,select,textarea,autocomplete,listbox,scroll-shadow,spacer,link,image,code,snippet,kbd,badge,circular-progress,slider,date-picker,date-input,calendar,time-input,breadcrumbs,accordion,navbar,menu].min.css" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Configure Tailwind with NextUI -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                            950: '#172554'
                        },
                        danger: {
                            50: '#fef2f2',
                            100: '#fee2e2',
                            200: '#fecaca',
                            300: '#fca5a5',
                            400: '#f87171',
                            500: '#ef4444',
                            600: '#dc2626',
                            700: '#b91c1c',
                            800: '#991b1b',
                            900: '#7f1d1d',
                            950: '#450a0a'
                        },
                        success: {
                            50: '#f0fdf4',
                            100: '#dcfce7',
                            200: '#bbf7d0',
                            300: '#86efac',
                            400: '#4ade80',
                            500: '#22c55e',
                            600: '#16a34a',
                            700: '#15803d',
                            800: '#166534',
                            900: '#14532d',
                            950: '#052e16'
                        },
                        warning: {
                            50: '#fffbeb',
                            100: '#fef3c7',
                            200: '#fde68a',
                            300: '#fcd34d',
                            400: '#fbbf24',
                            500: '#f59e0b',
                            600: '#d97706',
                            700: '#b45309',
                            800: '#92400e',
                            900: '#78350f',
                            950: '#451a03'
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS for clean, minimal design -->
    <style>
        .card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }
        
        .card:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.12);
        }
        
        .step-badge {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.3);
        }
        
        .quality-hd { 
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%); 
            color: white;
            padding: 0.125rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .quality-sd { 
            background: linear-gradient(135deg, #10b981 0%, #059669 100%); 
            color: white;
            padding: 0.125rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .quality-audio { 
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); 
            color: white;
            padding: 0.125rem 0.5rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            border: none;
            transition: all 0.2s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }
        
        .minimal-gradient {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
        }
    </style>
    
    <!-- Structured Data - JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Simpl YT Downloader",
        "description": "Free YouTube video and MP3 downloader that supports HD quality downloads including 360p, 720p, 1080p, and 4K resolution. No software installation required.",
        "url": "https://web-production-24f3e.up.railway.app/",
        "applicationCategory": "MultimediaApplication",
        "operatingSystem": "All",
        "permissions": "No installation required",
        "price": "0",
        "priceCurrency": "USD",
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "15847",
            "bestRating": "5",
            "worstRating": "1"
        },
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD",
            "availability": "https://schema.org/InStock"
        },
        "creator": {
            "@type": "Organization",
            "name": "Simpl YT",
            "url": "https://web-production-24f3e.up.railway.app/"
        },
        "featureList": [
            "HD Video Downloads (360p, 720p, 1080p, 4K)",
            "MP3 Audio Extraction",
            "No Software Installation Required",
            "Mobile and Desktop Compatible",
            "Fast Download Speeds",
            "Free to Use",
            "No Registration Required",
            "Multiple Format Support"
        ]
    }
    </script>
</head>
<body class="dark min-h-screen minimal-gradient text-white">
    <!-- Main Container -->
    <div class="min-h-screen">
        <!-- Header -->
        <header class="text-center py-16">
            <h1 class="text-4xl font-bold mb-3 text-white">
                Simpl YT Downloader
            </h1>
            <p class="text-gray-400 text-lg mb-6">
                Free YouTube video and MP3 downloader
            </p>
            <div class="flex justify-center space-x-6 text-sm text-gray-500">
                <span class="flex items-center">
                    <i class="fas fa-shield-alt mr-2"></i>
                    Safe
                </span>
                <span class="flex items-center">
                    <i class="fas fa-bolt mr-2"></i>
                    Fast
                </span>
                <span class="flex items-center">
                    <i class="fas fa-mobile-alt mr-2"></i>
                    Mobile
                </span>
            </div>
        </header>

        <!-- Main Content -->
        <main class="max-w-4xl mx-auto px-4">
            <!-- Download Section -->
            <div class="card rounded-xl p-6 mb-8">
                <div class="flex items-center space-x-3 mb-4">
                    <div class="step-badge w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium">
                        1
                    </div>
                    <h2 class="text-xl font-semibold">Enter YouTube URL</h2>
                </div>
                
                <div class="space-y-4">
                    <input 
                        type="url" 
                        id="url-input" 
                        placeholder="Paste YouTube URL here..."
                        class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"
                        autocomplete="off"
                    >
                    
                    <button 
                        id="download-btn"
                        class="w-full py-3 px-6 btn-primary text-white rounded-lg font-medium transition-all"
                    >
                        <i class="fas fa-search mr-2"></i>
                        Analyze Video
                    </button>
                </div>
            </div>
            
            <!-- Loading State -->
            <div id="loading" class="hidden text-center py-8">
                <div class="card rounded-xl p-6">
                    <div class="flex flex-col items-center space-y-3">
                        <div class="w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"></div>
                        <h3 class="text-lg font-medium">Analyzing video...</h3>
                        <p class="text-gray-400 text-sm">Please wait</p>
                    </div>
                </div>
            </div>
            
            <!-- Error State -->
            <div id="error-container" class="hidden mb-6">
                <div class="card rounded-xl p-4 border-red-500/50 bg-red-500/5">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-red-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-exclamation-triangle text-white text-sm"></i>
                        </div>
                        <div>
                            <h3 class="font-medium text-red-300">Error</h3>
                            <p id="error-message" class="text-red-200 text-sm"></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Success State -->
            <div id="success-container" class="hidden mb-6">
                <div class="card rounded-xl p-4 border-green-500/50 bg-green-500/5">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                            <i class="fas fa-check-circle text-white text-sm"></i>
                        </div>
                        <div>
                            <h3 class="font-medium text-green-300">Success</h3>
                            <p id="success-message" class="text-green-200 text-sm"></p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Video Info -->
            <div id="video-info" class="hidden">
                <div class="card rounded-xl p-6 mb-8">
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="step-badge w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium">
                            2
                        </div>
                        <h2 class="text-xl font-semibold">Video Information</h2>
                    </div>
                    
                    <div id="video-details" class="mb-6">
                        <!-- Video details will be populated here -->
                    </div>
                    
                    <div class="flex items-center space-x-3 mb-4">
                        <div class="step-badge w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-medium">
                            3
                        </div>
                        <h2 class="text-xl font-semibold">Download Options</h2>
                    </div>
                    
                    <div id="download-options" class="grid gap-3">
                        <!-- Download options will be populated here -->
                    </div>
                </div>
            </div>
        </main>
        
        <!-- SEO Content -->
        <div class="max-w-6xl mx-auto px-4 mt-16 space-y-12">
            <!-- How to Use -->
            <section class="card rounded-xl p-6">
                <h2 class="text-2xl font-bold mb-6 text-center">
                    How to Use
                </h2>
                <div class="grid md:grid-cols-3 gap-6">
                    <div class="text-center">
                        <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-copy text-white"></i>
                        </div>
                        <h3 class="text-lg font-medium mb-2">Copy URL</h3>
                        <p class="text-gray-400 text-sm">Copy the YouTube video URL</p>
                    </div>
                    <div class="text-center">
                        <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-paste text-white"></i>
                        </div>
                        <h3 class="text-lg font-medium mb-2">Paste & Analyze</h3>
                        <p class="text-gray-400 text-sm">Paste URL and click analyze</p>
                    </div>
                    <div class="text-center">
                        <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-download text-white"></i>
                        </div>
                        <h3 class="text-lg font-medium mb-2">Download</h3>
                        <p class="text-gray-400 text-sm">Choose quality and download</p>
                    </div>
                </div>
            </section>

            <!-- Features -->
            <section class="card rounded-xl p-6">
                <h2 class="text-2xl font-bold mb-6 text-center">
                    Features
                </h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-bolt text-white text-sm"></i>
                        </div>
                        <div>
                            <h3 class="text-sm font-medium">Fast Downloads</h3>
                            <p class="text-gray-400 text-xs">Quick processing</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-shield-alt text-white text-sm"></i>
                        </div>
                        <div>
                            <h3 class="text-sm font-medium">100% Safe</h3>
                            <p class="text-gray-400 text-xs">No malware</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-mobile-alt text-white text-sm"></i>
                        </div>
                        <div>
                            <h3 class="text-sm font-medium">Mobile Friendly</h3>
                            <p class="text-gray-400 text-xs">All devices</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-yellow-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-hd-video text-white text-sm"></i>
                        </div>
                        <div>
                            <h3 class="text-sm font-medium">HD Quality</h3>
                            <p class="text-gray-400 text-xs">Up to 4K</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-user-times text-white text-sm"></i>
                        </div>
                        <div>
                            <h3 class="text-sm font-medium">No Registration</h3>
                            <p class="text-gray-400 text-xs">Free access</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-indigo-500 rounded-lg flex items-center justify-center">
                            <i class="fas fa-infinity text-white text-sm"></i>
                        </div>
                        <div>
                            <h3 class="text-sm font-medium">Unlimited</h3>
                            <p class="text-gray-400 text-xs">No limits</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- FAQ -->
            <section class="card rounded-xl p-6">
                <h2 class="text-2xl font-bold mb-6 text-center">
                    FAQ
                </h2>
                <div class="space-y-4">
                    <div class="border-l-4 border-blue-500 pl-4">
                        <h3 class="text-lg font-medium mb-1">Is it free?</h3>
                        <p class="text-gray-400 text-sm">Yes, completely free with no registration required.</p>
                    </div>
                    <div class="border-l-4 border-purple-500 pl-4">
                        <h3 class="text-lg font-medium mb-1">What qualities are supported?</h3>
                        <p class="text-gray-400 text-sm">360p, 480p, 720p HD, 1080p Full HD, and 4K when available.</p>
                    </div>
                    <div class="border-l-4 border-green-500 pl-4">
                        <h3 class="text-lg font-medium mb-1">Is it safe?</h3>
                        <p class="text-gray-400 text-sm">Yes, we don't store your data or downloaded videos.</p>
                    </div>
                    <div class="border-l-4 border-yellow-500 pl-4">
                        <h3 class="text-lg font-medium mb-1">Works on mobile?</h3>
                        <p class="text-gray-400 text-sm">Yes, optimized for all devices including mobile.</p>
                    </div>
                </div>
            </section>
        </div>
        
        <!-- Footer -->
        <footer class="text-center py-12 mt-16">
            <div class="card rounded-xl p-6 max-w-md mx-auto">
                <h2 class="text-xl font-bold mb-2">Simpl YT Downloader</h2>
                <p class="text-gray-400 text-sm mb-4">Free YouTube video downloader</p>
                <div class="flex justify-center space-x-4 text-sm text-gray-500">
                    <a href="/about" class="hover:text-white transition-colors">About</a>
                    <a href="/privacy" class="hover:text-white transition-colors">Privacy</a>
                    <a href="/terms" class="hover:text-white transition-colors">Terms</a>
                </div>
                <p class="mt-3 text-xs text-gray-600">&copy; 2024 Simpl YT. All rights reserved.</p>
            </div>
        </footer>
    </div>
    
    <!-- NextUI JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/@nextui-org/theme@2.2.9/dist/components.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script>
        // DOM Elements
        const urlInput = document.getElementById('url-input');
        const downloadBtn = document.getElementById('download-btn');
        const loading = document.getElementById('loading');
        const errorContainer = document.getElementById('error-container');
        const errorMessage = document.getElementById('error-message');
        const successContainer = document.getElementById('success-container');
        const successMessage = document.getElementById('success-message');
        const videoInfo = document.getElementById('video-info');
        const videoDetails = document.getElementById('video-details');
        const downloadOptions = document.getElementById('download-options');

        // Utility functions
        function showElement(element) {
            element.classList.remove('hidden');
        }

        function hideElement(element) {
            element.classList.add('hidden');
        }

        function showError(message) {
            errorMessage.textContent = message;
            showElement(errorContainer);
            hideElement(successContainer);
        }

        function showSuccess(message) {
            successMessage.textContent = message;
            showElement(successContainer);
            hideElement(errorContainer);
        }

        function formatDuration(seconds) {
            if (!seconds) return 'Unknown';
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        function formatViews(views) {
            if (!views) return 'Unknown';
            if (views >= 1000000) {
                return (views / 1000000).toFixed(1) + 'M';
            } else if (views >= 1000) {
                return (views / 1000).toFixed(1) + 'K';
            }
            return views.toString();
        }

        function formatFileSize(bytes) {
            if (!bytes) return 'Unknown';
            const sizes = ['B', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(1024));
            return Math.round(bytes / Math.pow(1024, i) * 100) / 100 + ' ' + sizes[i];
        }

        function getQualityBadgeClass(quality) {
            if (quality.includes('1080') || quality.includes('720')) return 'quality-hd';
            if (quality.includes('480') || quality.includes('360')) return 'quality-sd';
            if (quality.includes('audio') || quality.includes('mp3')) return 'quality-audio';
            return 'quality-hd';
        }

        // Main download handler
        downloadBtn.addEventListener('click', async function() {
            const url = urlInput.value.trim();
            
            if (!url) {
                showError('Please enter a YouTube URL');
                return;
            }

            if (!url.includes('youtube.com') && !url.includes('youtu.be')) {
                showError('Please enter a valid YouTube URL');
                return;
            }

            // Show loading state
            hideElement(errorContainer);
            hideElement(successContainer);
            hideElement(videoInfo);
            showElement(loading);

            try {
                const response = await fetch('/extract', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ url: url }),
                });

                const data = await response.json();

                if (data.success) {
                    const video = data.video;
                    
                    // Display video information
                    videoDetails.innerHTML = `
                        <div class="flex flex-col md:flex-row gap-4 mb-4">
                            <div class="w-full md:w-48 h-28 bg-gray-800 rounded-lg overflow-hidden flex-shrink-0">
                                <img src="${video.thumbnail}" alt="Video thumbnail" class="w-full h-full object-cover">
                            </div>
                            <div class="flex-1 min-w-0">
                                <h3 class="text-lg font-medium mb-2 text-white leading-snug">${video.title}</h3>
                                <div class="grid grid-cols-2 gap-2 text-sm">
                                    <div class="flex items-center gap-2 text-gray-400">
                                        <i class="fas fa-user text-blue-400"></i>
                                        <span class="truncate">${video.uploader || 'Unknown'}</span>
                                    </div>
                                    <div class="flex items-center gap-2 text-gray-400">
                                        <i class="fas fa-clock text-green-400"></i>
                                        <span>${formatDuration(video.duration)}</span>
                                    </div>
                                    <div class="flex items-center gap-2 text-gray-400">
                                        <i class="fas fa-eye text-yellow-400"></i>
                                        <span>${formatViews(video.view_count)} views</span>
                                    </div>
                                    <div class="flex items-center gap-2 text-gray-400">
                                        <i class="fas fa-calendar text-purple-400"></i>
                                        <span>${video.upload_date || 'Unknown'}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;

                    // Display download options
                    downloadOptions.innerHTML = '';
                    data.formats.forEach(format => {
                        const card = document.createElement('div');
                        card.className = 'card rounded-lg p-4 transition-all';
                        card.innerHTML = `
                            <div class="flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center">
                                        <i class="fas fa-${format.ext === 'mp3' ? 'music' : 'video'} text-white"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-medium text-white">${format.display_name}</h4>
                                        <div class="flex items-center gap-2 mt-1">
                                            <span class="${getQualityBadgeClass(format.quality)}">${format.quality}</span>
                                            <span class="text-xs text-gray-400">${format.ext.toUpperCase()}</span>
                                            ${format.filesize ? `<span class="text-xs text-gray-400">${formatFileSize(format.filesize)}</span>` : ''}
                                        </div>
                                    </div>
                                </div>
                                <a href="/download/${data.video_id}/${format.format_id}" 
                                   class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                                    <i class="fas fa-download mr-1"></i>
                                    Download
                                </a>
                            </div>
                        `;
                        downloadOptions.appendChild(card);
                    });

                    showElement(videoInfo);
                    showSuccess('Video analyzed successfully! Choose your format below.');
                } else {
                    showError(data.error || 'Failed to analyze video. Please try again.');
                }
            } catch (error) {
                showError('Network error. Please check your connection and try again.');
            } finally {
                hideElement(loading);
            }
        });

        // Enter key support
        urlInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                downloadBtn.click();
            }
        });

        // URL input validation
        urlInput.addEventListener('input', function() {
            const url = this.value.trim();
            if (url && !url.includes('youtube.com') && !url.includes('youtu.be')) {
                this.classList.add('border-red-500');
            } else {
                this.classList.remove('border-red-500');
            }
        });
    </script>
</body>
</html> 